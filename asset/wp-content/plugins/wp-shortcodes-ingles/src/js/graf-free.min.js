const url=window.location;url.host.includes("127.0.0.1")||"www.pmcalculators.com"==url.host||"localhost"==url.host||window.location.replace("https://www.pmcalculators.com");const textos={decimales:"Only whole numbers, decimals (with a period) and fractions are accepted",error1:"Only 10 restrictions are permitted on the application",error2:"There must be at least 2 restrictions",error3:"You may not leave blank or place 0 in both coefficients of the objective function",error4:"You cannot leave blank or place 0 in both coefficients of the constraint ",titulo1:"Result - Graphical Method",titulo2:"Graphic Labels",labelcheck:"A chart can be moved by dragging or zoomed using the scroll. Chart labels can be viewed/deactivated using the checkboxes at the top",grafico:"Here are the results of the objective function at each of the points in the feasible region",infactible:"No feasible region exists, so there is <b>no solution</b> to the problem",noacotada:"Since the feasible region has no bounds, there are <b>unbounded solutions</b> to the problem"},host=url.href.split("?")[0],agregarfila=document.getElementById("agregar-fila"),eliminarfila=document.getElementById("eliminar-fila"),contenedorRestricciones=document.getElementById("restricciones"),formCoeficientesProblema=document.getElementById("datos-problema"),divResultados=document.getElementById("resultados"),divGrafico=document.getElementById("grafico"),divEcuaciones=document.getElementById("ecuaciones"),spinner=document.getElementById("cargando");let contador=2;class Interfaz{mostrarMensaje(mensaje,tipo){const div=document.createElement("div");"error"===tipo?div.classList.add("alert","alert-danger","text-center","my-3"):"correcto"===tipo?div.classList.add("alert","alert-success","text-center","my-3"):div.classList.add("alert","alert-warning","text-center","my-3"),div.innerHTML=`${mensaje}`,divResultados.appendChild(div)}btnEditar(texto,contenedor,id){const botonEditar=document.createElement("div");botonEditar.classList.add("d-grid","d-flex","justify-content-end"),botonEditar.innerHTML=`<a class="btn btn btn-outline-info fw-bolder" id="${id}">${texto}</a>`,contenedor.insertBefore(botonEditar,contenedor.children[0])}insertarEcuacion(maxmin,objetivo,restricciones,signos,resultados,verificar,resultado,expsignos){const div=document.createElement("div");let contenido="",noNegatividad="";if(!verificar){contenido+='<p class="my-3">The problem will be fitted to the standard linear programming model, correcting the constraints with negative independent term:</p><ul>';for(let i=0;i<expsignos.length;i++)"≤"==expsignos[i]?resultado[i]<0&&(contenido+=`<li><strong>Constraint ${i+1}:</strong> It has a negative independent term. All coefficients will be multiplied by -1 and their sign will be changed from "≤" (less than or equal) to "≥" (greater than or equal).</li>`):"≥"==expsignos[i]?resultado[i]<0&&(contenido+=`<li><strong>Constraint ${i+1}:</strong> It has a negative independent term. All coefficients will be multiplied by -1 and their sign will be changed from "≥" (greater than or equal) to "≤" (less than or equal).</li>`):resultado[i]<0&&(contenido+=`<li><strong>Constraint ${i+1}:</strong> It has a negative independent term. All coefficients will be multiplied by -1 and the sign "=" (equal) is maintained.</li>`);contenido+="</ul>"}contenido+=`<p class="my-3">The problem is stated as follows:</p><h4>Objective Function</h4><p class="my-3">${"max"==maxmin?"Maximize":"Minimize"}: Z = ${ecuacionobjetivo(objetivo,"X<sub>1</sub> ","X<sub>2</sub>")}`,noNegatividad+="X<sub>1</sub>, X<sub>2</sub>",contenido+="</p><h4>Subject to:</h4>";for(let i=0;i<restricciones.length;i++)contenido+=`<p class="my-3"><b>Constraint ${i+1}:</b> `,contenido+=`${ecuacionobjetivo(restricciones[i],"X<sub>1</sub> ","X<sub>2</sub>")} ${signos[i]} ${resultados[i].toFraction()}</p>`;contenido+=`<p class="my-3">${noNegatividad} ≥ 0 </p>`,div.innerHTML=contenido,divEcuaciones.appendChild(div)}insertarTitulo(texto,tag,container){const div=document.createElement(tag);div.innerHTML=texto,arguments[3]&&arguments[3].forEach(element=>{div.classList.add(element)}),container.appendChild(div)}regionFactible(tamañolista,coordenadas,c,resul){const div=document.createElement("div");let contenido="",provisional=[];contenido+=`<p class="my-3 text-center">${textos.grafico}</p><div class"table-responsive"><table class="tabla-grafico table text-center table-bordered" id="tabla-coordenadas"><thead class="bg-primary text-white"><tr class="align-middle"><th class="align-middle">Point</th><th class="align-middle">Coordinates<br>(X<sub>1</sub>,X<sub>2</sub>)</th><th class="align-middle">Objective Function Value<br>${ecuacionobjetivo(c,"X<sub>1</sub>","X<sub>2</sub>")}`,contenido+='</th></tr></thead><tbody class="fw-bold">';for(let i=1;i<=tamañolista;i++){provisional[i-1]=coordenadas[i-1].match(/[0-9]+[/]?[0-9]*/g);let resultado=calculocoordenadas(c,provisional[i-1]),clase;contenido+=`<tr${resultado.toFraction()==resul.toFraction()?' class="table-danger"':""}><td class="text-center align-middle">${String.fromCharCode(64+i)}</td><td class="text-center align-middle">(${provisional[i-1].join(",")})</td><td class="text-center align-middle">${ecuacionobjetivo(c,`(${provisional[i-1][0]})`,`(${provisional[i-1][1]}) = ${resultado.toFraction()}`)}</td></tr>`}contenido+="</tbody></table></div>",div.innerHTML=contenido,divGrafico.appendChild(div)}botondescargar(api){const boton=document.createElement("div");boton.classList.add("text-center"),boton.innerHTML='<button type="button" class="my-3 btn btn-warning fw-bold btn-lg boton-165" id="guardar-imagen">Save Image</button>',divGrafico.appendChild(boton),document.getElementById("guardar-imagen").addEventListener("click",(function(){api.writePNGtoFile("Solution.png",1,!1,144)}))}enlaces(objeto){const div=document.createElement("div");div.style.textAlign="center",div.style.marginTop="40px";const enlace=reducir(objeto);let texto='\n    <button id="copiar-enlace" style="background-color:#60A5FA;display:inline-flex;align-items: center;min-width:300px;justify-content: center;" class="py-2 btn fw-bold text-white" type="button">\n    <svg id="icono-enlace" xmlns="http://www.w3.org/2000/svg" style="width:1.15rem;heigth:1.15rem;margin-right:10px" viewBox="0 0 20 20" fill="currentColor">\n      <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />\n    </svg>\n    <svg id="icono-check" xmlns="http://www.w3.org/2000/svg" style="width:1.15rem;heigth:1.15rem;margin-right:10px;display:none;" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />\n    </svg>\n    Copy link to share results\n    </button>';div.innerHTML=texto,divResultados.appendChild(div),document.getElementById("copiar-enlace").addEventListener("click",e=>{const iconoEnlace=document.getElementById("icono-enlace"),iconoCheck=document.getElementById("icono-check");navigator.clipboard.writeText(host+"?problem="+enlace),e.target.style.backgroundColor="#0274be",iconoEnlace.style.display="none",iconoCheck.style.display="block",setTimeout(()=>{e.target.style.backgroundColor="#60A5FA",iconoEnlace.style.display="block",iconoCheck.style.display="none"},3e3)})}}if(url.search){const problem=url.search.includes("?problem="),ejercicio=ampliar(problem?url.search.slice(9):url.search.slice(1));if(ejercicio){history&&history.pushState(null,"",host),document.getElementById("seleccionar-objetivo").value=ejercicio.o;for(let i=1;i<=2;i++)document.getElementById("x"+i).value=ejercicio.co[i-1];for(let i=0;i<ejercicio.r.length;i++){i>1&&addFila();for(let j=0;j<=1;j++)document.getElementById(`x${i+1}-${j+1}`).value=ejercicio.r[i][j];document.getElementById(`signo${i+1}`).value=ejercicio.s[i],document.getElementById(`y${i+1}`).value=ejercicio.rr[i]}const o=recogerDatos();calcular(o.coeficientesRestricciones,o.coeficientesObjetivo,o.signosRestricciones,o.resultadoRestricciones,o.maxminSeleccionado)}}function addFila(){document.querySelector(".alert-danger")&&(divResultados.innerHTML="");const interfazusuario=new Interfaz;if(contador<10){contador++;const parrafo=document.createElement("p");parrafo.classList.add("my-3");const fila=document.createElement("div");fila.classList.add("d-inline-flex","input-group","input-group-sm","col-auto","justify-content-center"),parrafo.innerHTML=`<strong>Constraint ${contador}:</strong>`,fila.innerHTML=`<input type="text" id="x${contador}-1" class="form-control form-control-sm coeficientes mb-2 ml-1" pattern="[-]?[0-9]+[/.]?[0-9]*" title="${textos.decimales}"><label class="input-group-text mb-2 mr-1" for="x${contador}-1">X<sub>1</sub></label>+<input type="text" id="x${contador}-2" class="form-control form-control-sm coeficientes mb-2 ml-1" pattern="[-]?[0-9]+[/.]?[0-9]*" title="${textos.decimales}"><label class="input-group-text mb-2 mr-1" for="x${contador}-2">X<sub>2</sub></label><select id="signo${contador}" class="form-select form-select-sm mx-3 coeficientes mb-2"><option value="≤">≤</option><option value="≥">≥</option></select><input type="text" id="y${contador}" class="form-control form-control-sm coeficientes mb-2 rounded-0" pattern="[-]?[0-9]+[/.]?[0-9]*" title="${textos.decimales}">`,contenedorRestricciones.appendChild(parrafo),contenedorRestricciones.appendChild(fila)}else interfazusuario.mostrarMensaje(textos.error1,"error")}function recogerDatos(){let coeficientesRestricciones=[],coeficientesObjetivo=[],signosRestricciones=[],resultadoRestricciones=[];const objetivo=document.getElementById("seleccionar-objetivo"),maxminSeleccionado=objetivo.options[objetivo.selectedIndex].value;for(let i=1;i<=2;i++)document.getElementById("x"+i).value.length>0?coeficientesObjetivo[i-1]=Fraction(document.getElementById("x"+i).value):coeficientesObjetivo[i-1]=Fraction(0);for(let i=1;i<=contador;i++){let signoInput=document.getElementById(`signo${i}`);signosRestricciones[i-1]=signoInput.options[signoInput.selectedIndex].value}for(let i=1;i<=contador;i++){let provisional=new Array;for(let j=1;j<=2;j++)document.getElementById("x"+i+"-"+j).value.length>0?provisional[j-1]=Fraction(document.getElementById("x"+i+"-"+j).value):provisional[j-1]=Fraction(0);document.getElementById("y"+i).value.length>0?resultadoRestricciones[i-1]=Fraction(document.getElementById("y"+i).value):resultadoRestricciones[i-1]=Fraction(0),coeficientesRestricciones.push(provisional)}return{coeficientesRestricciones:coeficientesRestricciones,coeficientesObjetivo:coeficientesObjetivo,maxminSeleccionado:maxminSeleccionado,signosRestricciones:signosRestricciones,resultadoRestricciones:resultadoRestricciones}}function calcular(coeficientesRestricciones,coeficientesObjetivo,signosRestricciones,resultadoRestricciones,maxminSeleccionado){let signosOriginal,verificacionResultados,validar;divResultados.innerHTML="",divEcuaciones.innerHTML="",divGrafico.innerHTML="",divEcuaciones.style.display="block",interfazusuario=new Interfaz;let explicacionresultados=clonar(resultadoRestricciones),explicacionsignos=signosRestricciones.slice();if(verificacionResultados=resultadoRestricciones.every(element=>element>"0"),!verificacionResultados)for(let i=0;i<contador;i++)if(resultadoRestricciones[i]<=0){if("≤"==signosRestricciones[i]&&0==resultadoRestricciones[i])continue;"≥"==signosRestricciones[i]?signosRestricciones[i]="≤":"≤"==signosRestricciones[i]&&(signosRestricciones[i]="≥");for(let j=0;j<2;j++)coeficientesRestricciones[i][j]=coeficientesRestricciones[i][j].mul(-1);resultadoRestricciones[i]=resultadoRestricciones[i].mul(-1)}if(validar=validarDatos(coeficientesObjetivo,coeficientesRestricciones),validar){formCoeficientesProblema.style.display="none",spinner.style.display="block",interfazusuario.insertarEcuacion(maxminSeleccionado,coeficientesObjetivo,coeficientesRestricciones,signosRestricciones,resultadoRestricciones,verificacionResultados,explicacionresultados,explicacionsignos),signosOriginal=signosRestricciones.slice(),signosRestricciones=simbolosSignos(signosRestricciones);let resultados,model={optimize:"objetivo",opType:maxminSeleccionado,constraints:{},variables:{}};for(let i=0;i<contador;i++)model.constraints[`c${i+1}`]={[signosRestricciones[i]]:resultadoRestricciones[i]};for(let i=0;i<2;i++){model.variables[`x${i+1}`]={};for(let j=0;j<contador;j++)model.variables[`x${i+1}`][`c${j+1}`]=coeficientesRestricciones[j][i]}for(let i=0;i<2;i++)model.variables[`x${i+1}`].objetivo=coeficientesObjetivo[i];resultados=solver.Solve(model),interfazusuario.btnEditar("Edit Coefficients",divEcuaciones,"editar-coeficientes"),editar(divEcuaciones,formCoeficientesProblema,divResultados,divGrafico),divEcuaciones.scrollIntoView(!0),interfazusuario.insertarTitulo(textos.titulo1,"h2",divGrafico,["mb-5"]);let coordenadasX=resultadoRestricciones.map((n,i)=>0==coeficientesRestricciones[i][0]?-1:Math.abs(n/coeficientesRestricciones[i][0])),coordenadasY=resultadoRestricciones.map((n,i)=>0==coeficientesRestricciones[i][1]?-1:Math.abs(n/coeficientesRestricciones[i][1]));coordenadasX=Math.max(...coordenadasX),coordenadasY=Math.max(...coordenadasY);let ecuaciones=generarEcuaciones(coeficientesObjetivo,coeficientesRestricciones,signosOriginal,resultadoRestricciones,Fraction(resultados.result));const grafico=document.createElement("div");let ggbApp;grafico.id="ggb-element",grafico.classList.add("mx-auto"),divGrafico.appendChild(grafico),new GGBApplet({appName:"classic",width:752,height:600,showToolBar:!1,showAlgebraInput:!1,showMenuBar:!1,enableCAS:!1,perspective:"G",showLogging:!1,enableRightClick:!1,enableLabelDrags:!0,rounding:"10",appletOnLoad:function(api){api.setGridVisible(!0),api.setCoordSystem(Math.min(-Math.round(.1*coordenadasX),-.2),Math.round(1.2*coordenadasX),Math.min(-Math.round(.1*coordenadasY),-.2),Math.round(1.2*coordenadasY)),api.evalCommand(`${resultados.feasible?`a:${ecuaciones[0]} \n `:""}b:${ecuaciones[1]} \n puntos:Unique(RemoveUndefined[Sequence[If[IsInRegion[Element[{Vertex[b]}, i], b], Element[{Vertex[b]}, i], (?, ?)], i, 1, Length[{Vertex[b]}]]]) \n Execute(Sequence(UnicodeToLetter(64+k)+"="+puntos(k),k,1,Length(puntos))) \n tamañolista=Length(puntos)`),api.setColor("b",38,108,176),api.setLayer("b",1),api.setColor("puntos",0,0,0),api.setLayer("puntos",7);let tamañolista=api.getValue("tamañolista"),coordenadas=[];for(let i=1;i<=tamañolista;i++){let provisional,letra=String.fromCharCode(64+i);api.evalCommand(`provisional=FractionText(${letra})`),provisional=api.getValueString("provisional"),coordenadas.push(provisional.replace(/ }{ /g,"/")),api.setCaption(letra,`$\\textbf{${letra} = ${provisional}}$`),api.setColor(letra,0,0,0),api.setLabelStyle(letra,3),api.setLayer(letra,9),api.setLabelVisible(letra,!0)}api.setVisible("provisional",!1);for(let i=0;i<ecuaciones[2].length;i++)api.evalCommand(ecuaciones[2][i]),api.setCaption(`R${i+1}`,`Constraint ${i+1}`),api.setColor(`R${i+1}`,0,0,0),api.setLabelStyle(`R${i+1}`,3),api.setLayer(`R${i+1}`,0),api.setLabelVisible(`R${i+1}`,!0);for(let i=1;i<=2;i++){let provisional=1==i?"X":"Y",letra=1==i?"X:(y=0)":"Y:x=0";api.evalCommand(letra),api.setCaption(provisional,1==i?"X₁":"X₂"),api.setColor(provisional,0,0,0),api.setLabelStyle(provisional,3),api.setLabelVisible(provisional,!0),api.setLayer(provisional,0)}interfazusuario.insertarTitulo(textos.titulo2,"h4",divGrafico,["mt-5","mb-1","text-center"]);const checkbox=document.createElement("form");if(checkbox.classList.add("text-center"),resultados.feasible)if(isFinite(resultados.result)){api.setColor("a",255,0,0),api.setLineThickness("a",10),api.setLabelStyle("a",3),api.setLabelVisible("a",!0),api.setLayer("a",8),api.setCaption("a",`Z = ${ecuaciones[0].replace("x","X₁").replace("y","X₂")}`),checkbox.innerHTML=`<div class="form-check form-switch form-check-inline">\n            <input type="checkbox" value="Restricciones" checked="true" class="form-check-input" id="Restricciones">\n            <label class="form-check-label" for="Restricciones">Constraints</label>\n            </div>\n            <div class="form-check form-switch form-check-inline">\n            <input type="checkbox" value="FO" checked="true" class="form-check-input" id="FO">\n            <label class="form-check-label" for="FO">Objective Function</label>\n            </div>\n            <div class="form-check form-switch form-check-inline">\n            <input type="checkbox" value="Puntos" checked="true" class="form-check-input" id="Puntos">\n            <label class="form-check-label" for="Puntos">Feasible Region Points</label>\n            </div>\n            <div class="form-check form-switch form-check-inline">\n            <input type="checkbox" value="Grid" checked="true" class="form-check-input" id="Grid">\n            <label class="form-check-label" for="Grid">Grid</label></div>\n            <p class="my-3">${textos.labelcheck}.</p>`,divGrafico.appendChild(checkbox),check(api,checkbox),check1(api,checkbox,ecuaciones[2].length),check2(api,checkbox,tamañolista),interfazusuario.botondescargar(api),interfazusuario.regionFactible(tamañolista,coordenadas,coeficientesObjetivo,Fraction(resultados.result));let provisional=[],extra=[];for(let i=0;i<tamañolista;i++){provisional[i]=coordenadas[i].match(/[0-9]+[/]?[0-9]*/g);let resultado=calculocoordenadas(coeficientesObjetivo,provisional[i]);Fraction(resultados.result).toFraction()==resultado.toFraction()&&(extra.push(provisional[i]),extra[extra.length-1].push(String.fromCharCode(65+i)))}1==extra.length?interfazusuario.mostrarMensaje(`<p class="my-3">The optimal solution is <b>Z = ${Fraction(resultados.result).toFraction()}</b></p><p class="my-3">It is obtained for the values of <b>X<sub>1</sub>=${Fraction(resultados.x1).toFraction()}</b> and <b>X<sub>2</sub>=${Fraction(resultados.x2).toFraction()}</b></p>`,"correcto"):interfazusuario.mostrarMensaje(`<p class="my-3">The optimum value is <b>Z = ${Fraction(resultados.result).toFraction()}</b></p><p class="my-3">Admits infinitely many solutions contained in the line segment <span style="text-decoration:overline">${extra[0][2]}${extra[1][2]}</span>, defined by:<br><b>X<sub>1</sub> = ${extra[0][0]}λ + ${extra[1][0]}(1-λ)</b><br><b>X<sub>2</sub> = ${extra[0][1]}λ + ${extra[1][1]}(1-λ)</b><br><b>λ ∈ [0,1]</b></p><p>Some solutions are:<br><b>X<sub>1</sub>=${extra[0][0]}</b> and <b>X<sub>2</sub>=${extra[0][1]}<br><b>X<sub>1</sub>=${extra[1][0]}</b> and <b>X<sub>2</sub>=${extra[1][1]}</p>`,"correcto")}else checkbox.innerHTML=`<div class="form-check form-switch form-check-inline">\n            <input type="checkbox" value="Restricciones" checked="true" class="form-check-input" id="Restricciones">\n            <label class="form-check-label" for="Restricciones">Constraints</label>\n            </div>\n            <div class="form-check form-switch form-check-inline">\n            <input type="checkbox" value="Puntos" checked="true" class="form-check-input" id="Puntos">\n            <label class="form-check-label" for="Puntos">Feasible Region Points</label>\n            </div>\n            <div class="form-check form-switch form-check-inline">\n            <input type="checkbox" value="Grid" checked="true" class="form-check-input" id="Grid">\n            <label class="form-check-label" for="Grid">Grid</label></div>\n            <p class="my-3">${textos.labelcheck}.</p>`,divGrafico.appendChild(checkbox),interfazusuario.botondescargar(api),check1(api,checkbox,ecuaciones[2].length),check2(api,checkbox,tamañolista),interfazusuario.mostrarMensaje(`<p class="my-3">${textos.noacotada}.</p>`,"error");else checkbox.innerHTML=`<div class="form-check form-switch form-check-inline">\n          <input type="checkbox" value="Restricciones" checked="true" class="form-check-input" id="Restricciones">\n          <label class="form-check-label" for="Restricciones">Constraints</label>\n          </div>\n          <div class="form-check form-switch form-check-inline">\n          <input type="checkbox" value="Grid" checked="true" class="form-check-input" id="Grid">\n          <label class="form-check-label" for="Grid">Grid</label></div>\n          <p class="my-3">${textos.labelcheck}.</p>`,divGrafico.appendChild(checkbox),check1(api,checkbox,ecuaciones[2].length),interfazusuario.botondescargar(api),interfazusuario.mostrarMensaje(`<p class="my-3">${textos.infactible}.</p>`,"error");grafico.style.display="block",grafico.style.width="auto",grafico.style.height="auto",spinner.style.display="none",interfazusuario.enlaces({r:atexto(coeficientesRestricciones),co:atexto(coeficientesObjetivo),o:maxminSeleccionado,s:signosaSimbolos(signosRestricciones),rr:atexto(resultadoRestricciones)}),grafico.querySelector("div").classList.add("mx-auto")}},!0).inject("ggb-element"),grafico.style.display="none"}}function validarDatos(a,b){let validacion,validacion2,interfaz=new Interfaz;if(validacion=a.every(e=>0==e),validacion)return interfaz.mostrarMensaje(textos.error3,"error"),!1;{let i=0;do{validacion2=b[i].every(e=>0==e),i+=1}while(!validacion2&&i<b.length);return i==b.length||(interfaz.mostrarMensaje(textos.error4+i,"error"),!1)}}function editar(a,b,c,d){a.children[0].addEventListener("click",(function(e){a.style.display="none",b.style.display="block",c.innerHTML="",d.innerHTML="",b.scrollIntoView(!0),spinner.style.display="none"}))}function clonar(){let a=new Array;if(1==arguments.length&&arguments[0]instanceof Array)if(arguments[0][0]instanceof Array)for(let i=0;i<arguments[0].length;i++)a[i]=[],arguments[0][i].forEach((function(element,index){a[i][index]=element.clone()}));else arguments[0].forEach((function(element,index){a[index]=element.clone()}));return a}function simbolosSignos(a){let b=[];for(let i=0;i<a.length;i++)switch(a[i]){case"≤":b[i]="max";break;case"≥":b[i]="min";break;case"=":b[i]="equal";break;default:console.log("error")}return b}function generarEcuaciones(fo,rest,sign,resul,z){let ecuaciones=[],provisional=[],provisional2=[];ecuaciones[0]=`${fo[0].toFraction()}x${-1==fo[1].s?fo[1].toFraction():"+"+fo[1].toFraction()}y=${z.toFraction()}`;for(let i=0;i<rest.length;i++)provisional[i]=`${rest[i][0].toFraction()}x${-1==rest[i][1].s?rest[i][1].toFraction():"+"+rest[i][1].toFraction()}y${sign[i]}${resul[i].toFraction()}`;provisional=provisional.concat(["x≥0","y≥0"]),ecuaciones[1]=provisional.join(" ∧ ");for(let i=0;i<rest.length;i++)provisional2[i]=`R${i+1}:${rest[i][0].toFraction()}x${-1==rest[i][1].s?rest[i][1].toFraction():"+"+rest[i][1].toFraction()}y=${resul[i].toFraction()}`;return ecuaciones[2]=provisional2,ecuaciones}function check(api,checkbox){let checkbox2=checkbox.querySelector("input[value=FO]");checkbox2.addEventListener("change",(function(){this.checked?(checkbox2.checked=!0,api.setLabelVisible("a",!0)):(checkbox2.checked=!1,api.setLabelVisible("a",!1))}))}function check1(api,checkbox,conta){let checkbox1=checkbox.querySelector("input[value=Restricciones]"),checkbox2=checkbox.querySelector("input[value=Grid]");checkbox1.addEventListener("change",(function(){if(this.checked){checkbox1.checked=!0;for(let i=0;i<conta;i++)api.setLabelVisible(`R${i+1}`,!0)}else{checkbox1.checked=!1;for(let i=0;i<conta;i++)api.setLabelVisible(`R${i+1}`,!1)}})),checkbox2.addEventListener("change",(function(){this.checked?(checkbox2.checked=!0,api.setGridVisible(!0)):(checkbox2.checked=!1,api.setGridVisible(!1))}))}function check2(api,checkbox,tamlis){let checkbox3=checkbox.querySelector("input[value=Puntos]");checkbox3.addEventListener("change",(function(){if(this.checked){checkbox3.checked=!0;for(let i=1;i<=tamlis;i++){let letra=String.fromCharCode(64+i);api.setLabelVisible(letra,!0)}}else{checkbox3.checked=!1;for(let i=1;i<=tamlis;i++){let letra=String.fromCharCode(64+i);api.setLabelVisible(letra,!1)}}}))}function ecuacionobjetivo(c,a,b){let ecuacion="";return ecuacion+=`${1==c[0]?"":-1==c[0]?"-":c[0].toFraction()}${a}${1==c[1]?"+ ":-1==c[1]?"− ":c[1]>=0?"+ "+c[1].toFraction():"− "+c[1].abs().toFraction()}${b}`,ecuacion}function calculocoordenadas(c,p){let resultado=c[0].mul(p[0]);return resultado=resultado.add(c[1].mul(p[1])),resultado}function atexto(){let a=new Array;if(1==arguments.length&&arguments[0]instanceof Array)if(arguments[0][0]instanceof Array)for(let i=0;i<=arguments[0].length-1;i++)a[i]=[],arguments[0][i].forEach((function(element,index){a[i][index]=element.toFraction()}));else arguments[0].forEach((function(element,index){a[index]=element.toFraction()}));return a}function reducir(datos){const string=JSON.stringify(datos),enlace=JSONCrush.crush(string);return enlace}function ampliar(id){let objeto;try{const uncrushed=JSONCrush.uncrush(decodeURIComponent(id));objeto=JSON.parse(uncrushed)}catch{objeto=null}return"object"==typeof objeto&&null!==objeto?objeto:(objeto=null,objeto)}function signosaSimbolos(a){let b=[];for(let i=0;i<a.length;i++)switch(a[i]){case"max":b[i]="≤";break;case"min":b[i]="≥";break;case"equal":b[i]="=";break;default:console.log("error")}return b}agregarfila.addEventListener("click",(function(e){e.preventDefault(),addFila()})),eliminarfila.addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".alert-danger")&&(divResultados.innerHTML="");const interfazusuario=new Interfaz;contador>2?(contador--,contenedorRestricciones.removeChild(contenedorRestricciones.lastChild),contenedorRestricciones.removeChild(contenedorRestricciones.lastChild)):interfazusuario.mostrarMensaje(textos.error2,"error")})),formCoeficientesProblema.addEventListener("submit",(function(e){e.preventDefault();const objeto=recogerDatos(),enlace=reducir({r:atexto(objeto.coeficientesRestricciones),co:atexto(objeto.coeficientesObjetivo),o:objeto.maxminSeleccionado,s:objeto.signosRestricciones,rr:atexto(objeto.resultadoRestricciones)});window.location.replace(host+"?problem="+enlace)})),formCoeficientesProblema.addEventListener("reset",(function(e){divEcuaciones.innerHTML="",divResultados.innerHTML="",formCoeficientesProblema.scrollIntoView()}));